@import 'tailwindcss';

@import 'tw-animate-css';

@import 'primeicons/primeicons.css';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';

@custom-variant dark (&:is(.dark *));

/*
 * Industrial Grey Design System
 * A warm stone-based grey palette with no blue tint
 * Designed for professional CRUD applications
 */

@theme inline {
    /* Typography - Industrial Sans Stack */
    --font-sans:
        'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont,
        'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', Consolas, monospace;

    /* Border Radius - Tight, Industrial */
    --radius: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-md: 0.375rem;
    --radius-sm: 0.25rem;
    --radius-xs: 0.125rem;

    /* Color tokens mapped from CSS variables */
    --color-background: var(--background);
    --color-foreground: var(--foreground);

    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);

    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);

    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);

    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);

    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);

    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);

    --color-destructive: var(--destructive);
    --color-destructive-foreground: var(--destructive-foreground);

    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);

    --color-chart-1: var(--chart-1);
    --color-chart-2: var(--chart-2);
    --color-chart-3: var(--chart-3);
    --color-chart-4: var(--chart-4);
    --color-chart-5: var(--chart-5);

    --color-sidebar: var(--sidebar-background);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-ring: var(--sidebar-ring);
}

/*
 * Stone/Warm Grey Palette (no blue tint)
 * Based on Tailwind's stone color scale
 */
:root {
    /* Stone palette */
    --stone-50: #fafaf9;
    --stone-100: #f5f5f4;
    --stone-200: #e7e5e4;
    --stone-300: #d6d3d1;
    --stone-400: #a8a29e;
    --stone-500: #78716c;
    --stone-600: #57534e;
    --stone-700: #44403c;
    --stone-800: #292524;
    --stone-900: #1c1917;
    --stone-950: #0c0a09;

    /* Light Mode - Clean, warm whites with stone accents */
    --background: #fafaf9;
    --foreground: #1c1917;

    --card: #ffffff;
    --card-foreground: #1c1917;

    --popover: #ffffff;
    --popover-foreground: #1c1917;

    --primary: #292524;
    --primary-foreground: #fafaf9;

    --secondary: #f5f5f4;
    --secondary-foreground: #292524;

    --muted: #f5f5f4;
    --muted-foreground: #78716c;

    --accent: #e7e5e4;
    --accent-foreground: #1c1917;

    --destructive: #dc2626;
    --destructive-foreground: #fafaf9;

    --border: #e7e5e4;
    --input: #e7e5e4;
    --ring: #a8a29e;

    /* Chart colors - warm, industrial palette */
    --chart-1: #57534e;
    --chart-2: #78716c;
    --chart-3: #a8a29e;
    --chart-4: #d6d3d1;
    --chart-5: #44403c;

    /* Sidebar - subtle off-white */
    --sidebar-background: #fafaf9;
    --sidebar-foreground: #44403c;
    --sidebar-primary: #292524;
    --sidebar-primary-foreground: #fafaf9;
    --sidebar-accent: #f5f5f4;
    --sidebar-accent-foreground: #44403c;
    --sidebar-border: #e7e5e4;
    --sidebar-ring: #a8a29e;

    /* Industrial shadows */
    --shadow-xs: 0 1px 2px 0 rgba(28, 25, 23, 0.03);
    --shadow-sm:
        0 1px 3px 0 rgba(28, 25, 23, 0.06),
        0 1px 2px -1px rgba(28, 25, 23, 0.06);
    --shadow-md:
        0 4px 6px -1px rgba(28, 25, 23, 0.07),
        0 2px 4px -2px rgba(28, 25, 23, 0.07);
    --shadow-lg:
        0 10px 15px -3px rgba(28, 25, 23, 0.08),
        0 4px 6px -4px rgba(28, 25, 23, 0.08);
    --shadow-inset: inset 0 1px 2px 0 rgba(28, 25, 23, 0.04);
}

.dark {
    /* Dark Mode - Deep, warm charcoal */
    --background: #0c0a09;
    --foreground: #fafaf9;

    --card: #1c1917;
    --card-foreground: #fafaf9;

    --popover: #1c1917;
    --popover-foreground: #fafaf9;

    --primary: #e7e5e4;
    --primary-foreground: #0c0a09;

    --secondary: #292524;
    --secondary-foreground: #e7e5e4;

    --muted: #292524;
    --muted-foreground: #a8a29e;

    --accent: #292524;
    --accent-foreground: #fafaf9;

    --destructive: #ef4444;
    --destructive-foreground: #fafaf9;

    --border: #292524;
    --input: #292524;
    --ring: #78716c;

    /* Chart colors - lighter for dark mode */
    --chart-1: #d6d3d1;
    --chart-2: #a8a29e;
    --chart-3: #78716c;
    --chart-4: #57534e;
    --chart-5: #e7e5e4;

    /* Sidebar - deep charcoal */
    --sidebar-background: #0c0a09;
    --sidebar-foreground: #e7e5e4;
    --sidebar-primary: #fafaf9;
    --sidebar-primary-foreground: #0c0a09;
    --sidebar-accent: #1c1917;
    --sidebar-accent-foreground: #e7e5e4;
    --sidebar-border: #292524;
    --sidebar-ring: #78716c;

    /* Dark mode shadows */
    --shadow-xs: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
    --shadow-sm:
        0 1px 3px 0 rgba(0, 0, 0, 0.25), 0 1px 2px -1px rgba(0, 0, 0, 0.25);
    --shadow-md:
        0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -2px rgba(0, 0, 0, 0.3);
    --shadow-lg:
        0 10px 15px -3px rgba(0, 0, 0, 0.35), 0 4px 6px -4px rgba(0, 0, 0, 0.35);
    --shadow-inset: inset 0 1px 2px 0 rgba(0, 0, 0, 0.15);
}

/*
 * Border defaults for Tailwind v4 compatibility
 */
@layer base {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--border);
    }
}

/*
 * Base styles
 */
@layer base {
    * {
        @apply border-border;
    }

    html {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        text-rendering: optimizeLegibility;
    }

    body {
        @apply bg-background text-foreground;
        font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    }

    /* Improved focus states */
    :focus-visible {
        @apply outline-2 outline-offset-2 outline-ring;
    }

    /* Selection styling */
    ::selection {
        background-color: var(--stone-200);
        color: var(--stone-900);
    }

    .dark ::selection {
        background-color: var(--stone-700);
        color: var(--stone-100);
    }
}

/*
 * Typography utilities
 */
@layer utilities {
    .text-balance {
        text-wrap: balance;
    }

    /* Industrial heading styles */
    .heading-lg {
        @apply text-2xl font-semibold tracking-tight text-foreground;
    }

    .heading-md {
        @apply text-xl font-semibold tracking-tight text-foreground;
    }

    .heading-sm {
        @apply text-base font-semibold text-foreground;
    }

    /* Muted text helper */
    .text-subtle {
        @apply text-muted-foreground;
    }

    /* Tabular numbers for data */
    .tabular-nums {
        font-variant-numeric: tabular-nums;
    }
}

/*
 * Component overrides and enhancements
 */
@layer components {
    /* Industrial card style */
    .card-industrial {
        @apply rounded-md border border-border bg-card shadow-sm;
        box-shadow: var(--shadow-sm);
    }

    .card-industrial:hover {
        box-shadow: var(--shadow-md);
    }

    /* Data table enhancements */
    .p-datatable {
        /* Tighter row spacing */
        --p-datatable-body-cell-padding: 0.625rem 0.875rem;
        --p-datatable-header-cell-padding: 0.625rem 0.875rem;
    }

    /* Fix table row background overflow on rounded corners */
    .p-datatable[class*='rounded-'] {
        overflow: hidden !important;
    }

    /* Apply border-radius to header cells */
    .p-datatable[class*='rounded-']
        .p-datatable-thead
        > tr:first-child
        > th:first-child {
        border-top-left-radius: inherit;
    }
    .p-datatable[class*='rounded-']
        .p-datatable-thead
        > tr:first-child
        > th:last-child {
        border-top-right-radius: inherit;
    }

    /* The wrapper needs overflow hidden too */
    .p-datatable[class*='rounded-'] .p-datatable-table-container {
        overflow: hidden;
        border-radius: inherit;
    }

    /* Table header styling */
    .p-datatable .p-datatable-thead > tr > th {
        @apply text-xs font-semibold tracking-wider uppercase;
        letter-spacing: 0.05em;
    }

    /* Row hover effect */
    .p-datatable .p-datatable-tbody > tr:hover {
        @apply transition-colors duration-150;
    }

    /* Action buttons in tables - industrial style */
    .p-datatable .p-button.p-button-text.p-button-rounded {
        @apply transition-all duration-150;
    }

    .p-datatable .p-button.p-button-text.p-button-rounded:hover {
        @apply scale-105;
    }

    /* Tag/Badge refinements */
    .p-tag {
        @apply font-semibold tracking-wide uppercase;
        font-size: 0.6875rem;
        letter-spacing: 0.025em;
    }

    /* Tabs - transparent background to match page */
    .p-tabs .p-tablist {
        background: transparent;
    }

    .p-tabs .p-tablist-tab-list {
        background: transparent;
        border-color: var(--border);
    }

    /* Form input focus enhancement */
    .p-inputtext:focus,
    .p-select:focus {
        box-shadow:
            var(--shadow-inset),
            0 0 0 2px var(--ring);
    }

    /* Button press effect */
    .p-button:active:not(:disabled) {
        transform: translateY(1px);
    }

    /* Filter section styling */
    .filter-section {
        @apply rounded-md border border-border bg-muted/50 p-3;
    }

    .dark .filter-section {
        @apply bg-muted/30;
    }
}

/*
 * Sidebar enhancements
 */
@layer components {
    /* Sidebar menu item active state */
    [data-sidebar='menu-button'][data-active='true'] {
        @apply bg-sidebar-accent font-medium;
    }

    /* Sidebar subtle hover */
    [data-sidebar='menu-button']:hover:not([data-active='true']) {
        @apply bg-sidebar-accent/50;
    }
}

/*
 * Scrollbar styling (WebKit browsers)
 */
@layer utilities {
    .scrollbar-thin {
        scrollbar-width: thin;
        scrollbar-color: var(--stone-300) transparent;
    }

    .dark .scrollbar-thin {
        scrollbar-color: var(--stone-600) transparent;
    }

    .scrollbar-thin::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    .scrollbar-thin::-webkit-scrollbar-track {
        background: transparent;
    }

    .scrollbar-thin::-webkit-scrollbar-thumb {
        background-color: var(--stone-300);
        border-radius: 3px;
    }

    .dark .scrollbar-thin::-webkit-scrollbar-thumb {
        background-color: var(--stone-600);
    }

    .scrollbar-thin::-webkit-scrollbar-thumb:hover {
        background-color: var(--stone-400);
    }

    .dark .scrollbar-thin::-webkit-scrollbar-thumb:hover {
        background-color: var(--stone-500);
    }
}

/*
 * Animation utilities
 */
@layer utilities {
    .animate-fade-in {
        animation: fadeIn 0.2s ease-out;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(-4px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Subtle pulse for loading states */
    .animate-pulse-subtle {
        animation: pulseSubtle 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes pulseSubtle {
        0%,
        100% {
            opacity: 1;
        }
        50% {
            opacity: 0.7;
        }
    }
}

/*
 * Print styles
 */
@media print {
    .no-print {
        display: none !important;
    }

    body {
        background: white;
        color: black;
    }

    .p-datatable {
        border: 1px solid #ccc;
    }
}
